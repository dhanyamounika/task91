<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
    <div id="name" class="main">
      <div class="child1">

      </div>

      <div class="child2">

      </div>

    </div>

</body>
<script type="text/javascript">
      var query=window.location.search.substring(1).split("&");
      for(var i=0;i<query.length;i++){
      if(query[i]==="")
      continue;
      var parameter=query[i].split("=");

    }
      console.log(parameter);


      function loadJSON(file,callback){
        var xhr=new XMLHttpRequest();
        xhr.overrideMimeType("application/json");
        xhr.open("GET",file,true);
        xhr.onreadystatechange=function(){
          if(xhr.readyState===4 && xhr.status=="200"){
            callback(xhr.responseText);
          }
        }
         xhr.send(null);
      }

      loadJSON('data/data.json',function(text){
        var data=JSON.parse(text);
        console.log(data);
      profileData(data.profile );
      fun_career(data.career); // career means calling Career . here 'data' means json file name
      fun_education(data.education);  //abstract function
      fun_achievements(data.achievements);
      fun_skills(data.skills);

        })



    function profileData(pro){
        for(var i=0;i<pro.length;i++){
          if(parameter[1]==pro[i].id){
          var div=document.querySelector(".child1");
          //var basicinfo=pro[i].name+"<br>" + pro[i].label+"<br>" + pro[i].company+"<br>";
        //  div.innerHTML=basicinfo;

        var img=document.createElement("img");
        img.src=pro[i].image;
        div.appendChild(img);

        var h1=document.createElement("h2");
        h1.textContent=pro[i].name;
        div.appendChild(h1);

        var h3=document.createElement("h3");
        h3.textContent=pro[i].mail;
        div.appendChild(h3);

        var h4=document.createElement("h2");
        h4.textContent=pro[i].label;
        div.appendChild(h4);

        var h5=document.createElement("h2");
        h5.textContent=pro[i].company;
        div.appendChild(h5);
        }

       }
}

var div2=document.querySelector(".child2");

function fun_career(career_obj){

  var heading1=document.createElement("h2");
    heading1.textContent="Career Objective";//appending heading to div2
    div2.appendChild(heading1);


    var horz=document.createElement("hr");//giving underline to heading
    heading1.appendChild(horz);


    var inf=document.createElement("p");//displaying the context of career objective
    inf.classList.add("bigger_font");
    div2.appendChild(inf);
    inf.textContent=career_obj.info;
}


//education details

function fun_education(edu){

  var heading=document.createElement("h2");
  heading.textContent="Education Qualification";//appending heading to div2
  div2.appendChild(heading);


  var horz=document.createElement("hr");//giving underline to heading
  heading.appendChild(horz);


  var list=document.createElement("ul");//appending this list to div 2 section
  div2.appendChild(list);


  for(var i=0;i<edu.length;i++)
  {
    var listItem=document.createElement("li");//appending this list to ul list
    listItem.style.fontWeight="550";
    listItem.style.fontSize="25px";
    listItem.textContent=edu[i].degree;
    list.appendChild(listItem);


    var listItem1=document.createElement("p");
    listItem1.textContent=edu[i].institute;
    list.appendChild(listItem1);

    var listItem2=document.createElement("p");
    listItem2.textContent=edu[i].data;
    list.appendChild(listItem2);

  }
}


//achievements
function fun_achievements(achieve){

  var heading2=document.createElement("h2");
    heading2.textContent="Achievements";//appending heading to div2
    div2.appendChild(heading2);


    var horz=document.createElement("hr");//giving underline to heading
    heading2.appendChild(horz);


     var ul=document.createElement("ul");
     div2.appendChild(ul);


    for(var i=0;i<achieve.length;i++)
    {
      var listItem3=document.createElement("li");//appending this list to ul list
      // listItem3.style.fontWeight="550";
      listItem3.style.fontSize="25px";
      listItem3.innerHTML=achieve[i].name;
      ul.appendChild(listItem3);

    }

}

//technicalskills

function fun_skills(tech){

  var heading3=document.createElement("h2");
    heading3.textContent="Technical Skills";//appending heading to div2
    div2.appendChild(heading3);


    var horz=document.createElement("hr");//giving underline to heading
    heading3.appendChild(horz);

    var tr="";


     var table=document.createElement("table");//creating table tag

     div2.appendChild(table);

     for(i=0;i<tech.length;i++){
       tr+="<tr><td>"+tech[i].name+"</td><td>"+tech[i].data+"</td></tr>";
}

table.innerHTML=tr;
table.border="2";
}

</script>
</html>
